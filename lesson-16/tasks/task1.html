<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="shortcut icon" href="../../img/icons/favicon.png" type="image/x-icon">
      <title>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ1</title>
   </head>

   <body>
      <h1>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ1</h1>
      <p>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª–∞—Å TDate –¥–ª—è —Ä–æ–±–æ—Ç–∏ —ñ–∑ –¥–∞—Ç–∞–º–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ ‚Äú–¥–µ–Ω—å.–º—ñ—Å—è—Ü—å.—Ä—ñ–∫‚Äù. –î–∞—Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —ñ–∑ —Ç—Ä—å–æ–º–∞
         –ø–æ–ª—è–º–∏. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è/–∑–º–µ–Ω—à–µ–Ω–Ω—è –¥–∞—Ç–∏ –Ω–∞ –ø–µ–≤–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤, –º—ñ—Å—è—Ü—ñ–≤ —á–∏ —Ä–æ–∫—ñ–≤. –í–≤–µ–¥–µ–Ω–Ω—è —Ç–∞
         –≤–∏–≤–µ–¥–µ–Ω–Ω—è –¥–∞—Ç–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ç–æ–¥—É toString.</p>
      <p>–†—ñ—à–µ–Ω–Ω—è:</p>
      <script>
         "use strict"
         // ===== BEGIN ===== //
         class TDate {
            #day; #month; #year
            constructor(initialDays, initialMonths, initialYears) {
               this.#day = initialDays
               this.#month = initialMonths
               this.#year = initialYears
            }

            // getter / setter ===
            get Day() { return this.#day }
            set Day(val) { this.#day = val }

            get Month() { return this.#month }
            set Month(val) { this.#month = val }

            get Year() { return this.#year }
            set Year(val) { this.#year = val }

            // output ===
            toString() { return `${this.Day}, ${this.Month}, ${this.Year}<br>` }

            // correct ===
            correctDate() {
               const daysInMonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
               if ((this.Year % 4 === 0 && this.Year % 100 !== 0) || (this.Year % 400 === 0)) {
                  daysInMonths[1] = 29
               }
               while ((this.Day > daysInMonths[this.Month - 1]) || (this.Month > 12)) {
                  if (this.Day > daysInMonths[this.Month - 1]) {
                     this.Day -= daysInMonths[this.Month - 1]
                     this.Month++
                  }
                  if (this.Month > 12) {
                     this.Month -= 12
                     this.Year++
                  }

               }
               while ((this.Day < 1)) {
                  if (this.Day < 1) {
                     this.Month--
                  }
                  if (this.Month < 1) {
                     this.Month = 12
                     this.Year--
                  }
                  this.Day += daysInMonths[this.Month - 1]
               }
               while (this.Month < 1) {
                  this.Month += 12
                  this.Year--
               }
            }

            // correct days === 
            increaseDays(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–±—ñ–ª—å—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Day"')
               } else this.Day += val
               this.correctDate()
            }
            reduceDays(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–º–µ–Ω—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Day"')
               } else this.Day -= val
               this.correctDate()
            }
            // correct months === 
            increaseMonths(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–±—ñ–ª—å—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Month"')
               } else this.Month += val
               this.correctDate()
            }
            reduceMonths(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–º–µ–Ω—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Month"')
               } else this.Month -= val
               this.correctDate()
            }
            // correct years === 
            increaseYears(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–±—ñ–ª—å—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Year"')
               } else this.Year += val
               this.correctDate()
            }
            reduceYears(val = 0) {
               if (val < 0 || typeof val !== 'number') {
                  throw new Error('–í–≤–µ–¥–µ–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –∑–º–µ–Ω—à–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è "Year"')
               } else this.Year -= val
               this.correctDate()
            }
         }



         const increaseDay = 120 // –∑–±—ñ–ª—å—à–∏—Ç–∏ –¥–Ω—ñ
         const increaseMonth = 13 // –∑–±—ñ–ª—å—à–∏—Ç–∏ –º—ñ—Å—è—Ü—ñ
         const increaseYear = 45 // –∑–±—ñ–ª—å—à–∏—Ç–∏ —Ä–æ–∫–∏
         const reduceDay = 0 // –∑–º–µ–Ω—à–∏—Ç–∏ –¥–Ω—ñ
         const reduceMonth = 20 // –∑–º–µ–Ω—à–∏—Ç–∏ –º—ñ—Å—è—Ü—ñ
         const reduceYear = 40 // –∑–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∫–∏



         const currentDate = new TDate(21, 4, 2024)
         currentDate.correctDate()
         document.write(`–ü–æ—á–∞—Ç–∫–æ–≤–∞ –¥–∞—Ç–∞: ${currentDate}`)
         const changeData = currentDate

         changeData.increaseDays(increaseDay)
         changeData.increaseMonths(increaseMonth)
         changeData.increaseYears(increaseYear)
         changeData.reduceDays(reduceDay)
         changeData.reduceMonths(reduceMonth)
         changeData.reduceYears(reduceYear)

         document.write(`–ö–æ—Ä–µ–≥—É–≤–∞–Ω–Ω—è –¥–∞—Ç–∏: +${increaseDay} –¥–Ω—ñ–≤, +${increaseMonth} –º—ñ—Å—è—Ü—ñ–≤, 
         +${increaseYear} —Ä–æ–∫—ñ–≤, -${reduceDay} –¥–Ω—ñ–≤, -${reduceMonth} –º—ñ—Å—è—Ü—ñ–≤, -${reduceYear} —Ä–æ–∫—ñ–≤<br>`)
         document.write(`–í—ñ–¥–∫–æ—Ä–µ–≥–æ–≤–∞–Ω–∞ –¥–∞—Ç–∞: ${changeData}`)
      </script>
      <a href="task1.html"> <br><br><br>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏<br> </a>
      <a href="../index.html"> üëà –ù–∞–∑–∞–¥</a>
   </body>

</html>