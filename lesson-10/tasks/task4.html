<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="shortcut icon" href="../../img/icons/favicon.png" type="image/x-icon">
      <title>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ4</title>
   </head>

   <body>
      <h1>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ4</h1>
      <p>–î–∞–Ω–æ —ñ—Å—Ç–æ—Ä—ñ—é —Ü—ñ–Ω –Ω–∞ —Ü—ñ–Ω–Ω—ñ –ø–∞–ø–µ—Ä–∏ –∑–∞ –¥–µ—è–∫–∏–π –ø–µ—Ä—ñ–æ–¥ (–∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –≤—ñ–¥ 1 –¥–æ 10000)</p>
      <p>–°—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Å–∏–≤, —â–æ –º—ñ—Å—Ç–∏—Ç–∏–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Ü—ñ–Ω —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö —Å—Ç–æ—Å–æ–≤–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ</p>
      <p>–†—ñ—à–µ–Ω–Ω—è:</p>
      <script>
         // ======== –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –º–∞—Å–∏–≤—É —Ü—ñ–Ω ========
         let historyPrices = createHistoryPrices(1, 10000, 10)
         function createHistoryPrices(minPrice, maxPrice, length) {
            let newPrice = []
            for (i = 0; i < length; i++) {
               newPrice.push(minPrice + Math.floor(Math.random() * (maxPrice)))
            }
            return newPrice
         }
         document.write(`–î–∞–Ω–æ –±–∞–∑–æ–≤–∏–π –º–∞—Å–∏–≤ –∑ ${historyPrices.length}-–∏ —Ü—ñ–Ω:<br> ${historyPrices} <br><br>`)

         // ======== —Ä—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ =======:
         // 1) –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Ü—ñ–Ω–∏:
         // let currentMaxPrice = historyPrices.reduce(
         //    (maxPrice, price, i) => i === 0 || price > maxPrice ? maxPrice = price : maxPrice
         // ) === —Å–ø–æ—Å—ñ–± —á–µ—Ä–µ–∑ reduce
         let currentMaxPrice = Math.max(...historyPrices) // === —Å–ø–æ—Å—ñ–± —á–µ—Ä–µ–∑ Math.max

         // 2) –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—É –≤—ñ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —Ü—ñ–Ω–∏:
         let pricesPercent = historyPrices.map(
            (price) => (price / currentMaxPrice * 100).toFixed(1) + '%'
            //—Ç—É—Ç toFixed –º–æ–∂–ª–∏–≤–æ –Ω–µ–¥–æ—Ä–µ—á–Ω–∏–π...
         )
         // =============================== //
         document.write(`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è: ${currentMaxPrice}<br>–ó–Ω–∞—á–µ–Ω–Ω—è —Ü—ñ–Ω —É –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö —Å—Ç–æ—Å–æ–≤–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è:<br>${pricesPercent}`)
      </script>
      <a href="task4.html"><br><br><br>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏<br></a>
      <a href="../index.html"> üëà –ù–∞–∑–∞–¥</a>
   </body>

</html>