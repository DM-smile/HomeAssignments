<!DOCTYPE html>
<html lang="en">

   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="shortcut icon" href="../../img/icons/favicon.png" type="image/x-icon">
      <title>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ4</title>
   </head>

   <body>
      <h1>–†—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ ‚Ññ4</h1>
      <p>–°–∫–ª–∞–¥. –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä—ñ–≤, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞ —Å–∫–ª–∞–¥—ñ: –Ω–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É, –æ–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—É, –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Ñ—ñ—Ä–º–∞ –≤–∏—Ä–æ–±–Ω–∏–∫
         (–Ω–∞–∑–≤–∞, —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä). –û—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é/–≤—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –Ω–∞–∑–≤–æ—é —Ç–æ–≤–∞—Ä—É,
         —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –Ω–∞–∑–≤–æ—é —Ñ—ñ—Ä–º–∏</p>
      <p>–†—ñ—à–µ–Ω–Ω—è:</p>
      <script>
         "use strict"
         // ===== BEGIN ===== //
         class Manufacturer {
            #firmName
            #registrationNumber

            get FirmName() { return this.#firmName }
            set FirmName(val) {
               if (val.length === 0) throw new Error('–ù–∞–∑–≤–∞ —Ñ–∏—Ä–º–∏ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é!')
               this.#firmName = val
            }
            get FirmRegNum() { return this.#registrationNumber }
            set FirmRegNum(val) {
               if (val.length === 0 || val < 0 || val[0] === '-') throw new Error('–†–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä —Ñ—ñ—Ä–º–∏ –Ω–µ —î –∫–æ—Ä–µ–∫—Ç–Ω–∏–º!')
               this.#registrationNumber = val
            }
            constructor(name, registrationNumber) {
               this.FirmName = name
               this.FirmRegNum = registrationNumber
            }
            toString() {
               return `
                  –§—ñ—Ä–º–∞ –≤–∏—Ä–æ–±–Ω–∏–∫: ${this.FirmName}<br>
                  –†–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä: ${this.FirmRegNum}<br>
               `
            }
         }
         class Product {
            static productsArray = []
            static addElementToProductsArray(product) {
               Product.productsArray.push(product)
            }
            static filterByProductName(val, products = Product.productsArray) {
               return products.filter(product => product.ProductName === val)
            }
            static filterByCompanyName(val, products = Product.productsArray) {
               return products.filter(product => product.Firm.FirmName === val)
            }

            #productName
            get ProductName() { return this.#productName }
            set ProductName(val) {
               if (val.length === 0) throw new Error('–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—å–æ—é!')
               this.#productName = val
            }
            #productUnit
            get Unit() { return this.#productUnit }
            set Unit(val) {
               if (val.length === 0 || val.length > 5 || val[0] === '-') throw new Error('–û–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—É —Ç–æ–≤–∞—Ä—É –Ω–µ —î –∫–æ—Ä–µ–∫—Ç–Ω–æ—é!')
               this.#productUnit = val
            }
            #productQuantity
            get ProductQuantity() { return this.#productQuantity }
            set ProductQuantity(val) {
               if (val < 0) throw new Error('–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É –Ω–µ —î –∫–æ—Ä–µ–∫—Ç–Ω–æ—é!')
               this.#productQuantity = val
            }
            #productRegistarionShipment
            get ProductRegistarionShipment() { return this.#productRegistarionShipment }
            set ProductRegistarionShipment(val) {
               if (val < 0) throw new Error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∞–±–æ –≤—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –∑ –≤—ñ–¥'—î–º–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é!")
               if (!val) val = 0
               this.#productRegistarionShipment = val

            }
            Firm
            constructor(
               productName,
               productQuantity,
               productUnit,
               firmName,
               firmRegistrationNumber
            ) {
               this.ProductName = productName
               this.Unit = productUnit
               this.ProductQuantity = productQuantity
               this.Firm = new Manufacturer(firmName, firmRegistrationNumber)
               Product.addElementToProductsArray(this)
            }
            toString() {
               return `
                  –¢–æ–≤–∞—Ä: ${this.ProductName}<br>
                  –ö—ñ–ª—å–∫—ñ—Å—Ç—å: ${this.ProductQuantity} ${this.Unit}<br>
                  ${this.Firm}<br>
               `
            }
            registProduct(val) {
               this.ProductRegistarionShipment = val
               this.ProductQuantity += this.ProductRegistarionShipment
            }
            shipmentProduct(val) {
               this.ProductRegistarionShipment = val
               this.ProductQuantity -= this.ProductRegistarionShipment
            }

         }

         const product1 = new Product('–ö—Ä—É–∞—Å–∞–Ω', 10, '—à—Ç', '"–ö—É–ª–∏–Ω–∏—á—ñ"', 4234421)
         const product2 = new Product('–ü—ñ—Ü—Ü–∞', 10, '—à—Ç', '"–ë—É—Ñ–µ—Ç"', 4155436)
         const product3 = new Product('–ú–æ–ª–æ–∫–æ', 10, '–ª', '"–ú–æ–ª–æ—á–Ω–∞ —Ñ–µ—Ä–º–∞ –î—è–¥—ñ –ü–∞—à–∏"', 95892850)
         const product4 = new Product('–°–∏—Ä', 10, '–∫–≥', '"–ú–æ–ª–æ—á–Ω–∞ —Ñ–µ—Ä–º–∞ –î—è–¥—ñ –ü–∞—à–∏"', 95892850)

         product1.registProduct(100)
         product2.registProduct(50)
         product3.registProduct(120)
         product4.registProduct(20)

         product1.shipmentProduct(20)
         product2.shipmentProduct(10)
         product3.shipmentProduct(40)
         product4.shipmentProduct(5)


         const findProduct1 = Product.filterByProductName('–ö—Ä—É–∞—Å–∞–Ω')
         const findProduct2 = Product.filterByProductName('–ü—ñ—Ü—Ü–∞')
         const findProductsByFirm = Product.filterByCompanyName('"–ú–æ–ª–æ—á–Ω–∞ —Ñ–µ—Ä–º–∞ –î—è–¥—ñ –ü–∞—à–∏"')


         document.write(findProduct1)
         document.write(findProduct2)
         document.write(findProductsByFirm)

      </script>
      <a href="task4.html"> <br><br><br>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏<br> </a>
      <a href="../index.html"> üëà –ù–∞–∑–∞–¥</a>
   </body>

</html>